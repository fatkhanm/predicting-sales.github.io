<!DOCTYPE html>
<html lang="en">
<head>
    <title>Predicting Item Sales</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>

<body bgcolor="Lightskyblue">
    <div class='container'>
        <form id = 'myForm'>
            <div>
                <label id='weight'> Item Weight </label>
                <input type="text" name="item_weight" size="15"/> <br> <br>
            </div>

            <div>
                <label id='visibility'> Item Visibility </label>
                <input type="text" name="item_visibility" size="15"/> <br> <br>
            </div>

            <div>
                <label id='item-mrp'> Item MRP </label>
                <input type="text" name="item_mrp" size="15"/> <br> <br>
            </div>

            <div class='dropdown-content'>
                <label> Fat content </label>
                <select id='fat-content'>
                    <option value="low fat">Low Fat</option>
                    <option value="reguler">Reguler</option>
                </select> <br><br>
            </div>

            <div class='dropdown-content'>
                <label> Item Type </label>
                <select id='item-type'>
                    <option value="baking goods">Baking Goods</option>
                    <option value="breads">Breads</option>
                    <option value="breakfast">Breakfast</option>
                    <option value="canned">Canned</option>
                    <option value="dairy">Dairy</option>
                    <option value="frozen foods">Frozen Foods</option>
                    <option value="fruits and vegetables">Fruits & Vegetables</option>
                    <option value="hard drinks">Hard Drinks</option>
                    <option value="health and hygiene">Health & Hygiene</option>
                    <option value="household">Household</option>
                    <option value="meat">Meat</option>
                    <option value="others">Others</option>
                    <option value="seafood">Seafood</option>
                    <option value="snack foods">Snack Foods</option>
                    <option value="soft drinks">Soft Drinks</option>
                    <option value="strachy foods">Strachy Foods</option>
                </select> <br><br>
            </div>
    
            <div class='dropdown-content'>
                <label> Outlet Size </label>   
                <select id='outlet-size'>
                    <option value="high">High</option>
                    <option value="medium">Medium</option>
                    <option value="small">Small</option>
                    <option value="unknown">Unknown</option>
                </select> <br><br>
            </div>

            <div class='dropdown-content'>
                <label> Outlet Location </label>
                <select id='outlet-location'>
                    <option value="tier 1">Tier 1</option>
                    <option value="tier 2">Tier 2</option>
                    <option value="tier 3">Tier 3</option>
                </select> <br><br>
            </div>
            
            <div class='dropdown-content'>
                <label> Outlet Type </label>
                <select id='outlet-type'>
                    <option value="grocery store">Grocery Store</option>
                    <option value="supermarket type 1">Supermarket Type 1</option>
                    <option value="supermarket type 2">Supermarket Type 2</option>
                    <option value="supermarket type 3">Supermarket Type 3</option>
                </select> <br><br>
            </div>

            <button type="submit" class="submitbtn" id='submit'>Submit</button>  
        </form>
    </div>
</body>
<script>
    function submitHandle(e){
        e.preventDefault()
        val = {
            item_weight:null,
            item_visibility:null,
            item_mrp:null,
            fat_content:null,
            item_type:null,
            outlet_size:null,
            outlet_location:null,
            outlet_store:null
        }
        const formData = new FormData(e.target);
        val.item_weight = parseInt(formData.get('item_weight'))
        val.item_visibility = parseInt(formData.get('item_visibility'))
        val.item_mrp = parseInt(formData.get('item_mrp'))
        val.fat_content = document.getElementById('fat-content').value
        val.item_type = document.getElementById('item-type').value
        val.outlet_size = document.getElementById('outlet-size').value
        val.outlet_location = document.getElementById('outlet-location').value
        val.outlet_store = document.getElementById('outlet-type').value
        axios({
            method: 'POST',
            url:'https://heroku-sil.herokuapp.com/predict',
            mode: 'no-cors',
            headers: {
                'Access-Control-Allow-Origin': '*',
                'Content-Type': 'application/json',
            },
            credentials: 'same-origin',
            data:{
                val:val
            }
            }).then(response=>{
            alert("Predicted Item Sales: " + response.data)
        })

    }
    document.getElementById("myForm").addEventListener("submit", submitHandle);
</script>
</html>